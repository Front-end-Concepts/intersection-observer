<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Intersection Observer</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/prismjs@1.26.0/themes/prism-tomorrow.css"
      rel="stylesheet"
    />
    <!-- Prism.js JS -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.26.0/prism.js"></script>
    <script defer src="app.js"></script>
  </head>
  <body>
    <section class="hidden">
      <h1>Intersection Observer</h1>
      <p>Make Cool Scroll Animations</p>
    </section>

    <section class="hidden">
      <h2>What it does</h2>
      <p>
        The Intersection Observer API allows us to detect when an element enters
        or leaves the viewport. It helps create smooth scroll animations by
        triggering CSS transitions when an element becomes visible. Instead of
        relying on scroll events, which can be performance-heavy, It has
        properties like threshold, rootMargin and unobserve. We can also create
        infinite scrolls using this.
      </p>
    </section>

    <section class="code-editor-section hidden">
      <h2>Using in Code</h2>
      <p>
        We define the sections as hidden by setting their initial opacity to 0.
        We also define a class called <code>show</code>, where the opacity is
        set to 1. The <code>IntersectionObserver</code> API is used to observe
        elements as they enter or leave the viewport. When an element is in the
        viewport, the Intersection Observer toggles the <code>show</code> class,
        making the component visible by changing its opacity to 1.
      </p>
      <div class="language-javascript">
        <pre><code>
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          // Toggle the 'show' class based on whether the element is in the viewport
          entry.target.classList.toggle("show", entry.isIntersecting);
        });
      },
      { threshold: 0.5 } // Optional: Adjust when the element is considered visble (50% of the element)
    );
    
    // Select all elements with the 'hidden' class
    const hiddenElements = document.querySelectorAll(".hidden");
    
    // Start observing each hidden element
    hiddenElements.forEach((el) => observer.observe(el));
        </code></pre>
      </div>
    </section>

    <section class="hidden">
      <h2>This is cool</h2>
      <div class="logos">
        <div class="logo hidden">
          <img
            src="https://api.dicebear.com/9.x/notionists-neutral/svg?seed=Riley"
            alt="avatar"
          />
        </div>
        <div class="logo hidden">
          <img
            src="https://api.dicebear.com/9.x/notionists-neutral/svg?seed=Jack"
            alt="avatar"
          />
        </div>
        <div class="logo hidden">
          <img
            src="https://api.dicebear.com/9.x/notionists-neutral/svg?seed=Mackenzie"
            alt="avatar"
          />
        </div>
        <div class="logo hidden">
          <img
            src="https://api.dicebear.com/9.x/notionists-neutral/svg?seed=Sawyer"
            alt="avatar"
          />
        </div>
      </div>
    </section>
  </body>
</html>
